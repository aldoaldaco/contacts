<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="contacts-list.html">
<link rel="import" href="contacts-profile.html">

<dom-module id="contacts-container">
  <template>
    <style>
      :host {
          width: 100%;
          margin: 0 auto;
          font-family: sans-serif;
      }
      contacts-list{
          background-color: var(--background-color-list,#204056);
          color: var(--color-list,#FFFFFF);
          font-family: var(--font-family-list,sans-serif);
          position: absolute;
          top: 0px;
          left: 0px;
          width: 35%;
          height: 100%;
          margin: 0 auto;
          float: left;
      }
      contacts-profile{
          background-color: var(--background-color-list,#FFFFFF);
          color: var(--color-list,#204056);
          font-family: var(--font-family-list,sans-serif);
          position: absolute;
          top: 0px;
          left: 35%;
          width: 65%;
          height: 100%;
          margin: 0 auto;
          float: right;
      }
    </style>
    <div class="container">
        <contacts-list on-contact-selected="handleContactSelected" new-c="{{newContact}}"></contacts-list>
        <contacts-profile contact="[[contac]]"></contacts-profile>
    </div>
  </template>

  <script>
    /**
     * @customElement
     * @polymer
     */
    class ContactsContainer extends Polymer.Element {
      static get is() { return 'contacts-container'; }
      static get properties() {
        return {
          contac: {
            type: Object,
            notify: true
          },
          newContact: {
              type: Object,
              notify: true,
              reflectToAttribute: true
          }
        };
      }
      handleContactSelected(event){
          this.contac = event.detail;
      }
      /*attributeChange(){
          alert(this.newContact);
          this.shadowRoot.addEventListener('on-new-contact-changed', this.saveContact.bind(this));
      }*/
      saveContact(event){
          this.newContact = event.detail;
          alert(this.newContact);
      }
    }

    window.customElements.define(ContactsContainer.is, ContactsContainer);
  </script>
</dom-module>
